<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.cell.*?>

<BorderPane xmlns="http://javafx.com/javafx/21.0.0" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.InventoryController">
    <top>
        <HBox spacing="12" styleClass="content-area">
            <children>
                <Label text="Inventory" styleClass="section-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <TextField fx:id="filterField" promptText="Filter by name/category/batch..." prefWidth="320"/>
                <Button text="Export" onAction="#onExport"/>
                <Button text="Import" onAction="#onImport" styleClass="ghost-button"/>
            </children>
        </HBox>
    </top>

    <center>
        <HBox spacing="16" styleClass="content-area">
            <children>
                <!-- Form Card -->
                <VBox spacing="12" styleClass="card" HBox.hgrow="ALWAYS" prefWidth="460">
                    <children>
                        <Label text="Add / Edit Item" styleClass="section-title"/>
                        <GridPane hgap="16" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50"/>
                                <ColumnConstraints percentWidth="50"/>
                            </columnConstraints>

                            <!-- Row 0 -->
                            <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                <children>
                                    <Label text="Name"/>
                                    <TextField fx:id="nameField" promptText="e.g. Paracetamol 500mg"/>
                                </children>
                            </VBox>
                            <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                <children>
                                    <Label text="Category"/>
                                    <ComboBox fx:id="categoryBox" promptText="Select category"/>
                                </children>
                            </VBox>

                            <!-- Row 1 -->
                            <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                <children>
                                    <Label text="Batch No"/>
                                    <TextField fx:id="batchField" promptText="e.g. BATCH-00124"/>
                                </children>
                            </VBox>
                            <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                <children>
                                    <Label text="Quantity"/>
                                    <TextField fx:id="qtyField" promptText="e.g. 100"/>
                                </children>
                            </VBox>

                            <!-- Row 2 -->
                            <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="2">
                                <children>
                                    <Label text="Unit Price"/>
                                    <TextField fx:id="priceField" promptText="e.g. 2.50"/>
                                </children>
                            </VBox>
                            <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                <children>
                                    <Label text="Expiry Date"/>
                                    <DatePicker fx:id="expiryPicker"/>
                                </children>
                            </VBox>

                            <!-- Row 3 -->
                            <VBox spacing="4" GridPane.columnIndex="0" GridPane.rowIndex="3">
                                <children>
                                    <Label text="Supplier"/>
                                    <TextField fx:id="supplierField" promptText="e.g. Pharma Supply Co."/>
                                </children>
                            </VBox>
                            <VBox spacing="4" GridPane.columnIndex="1" GridPane.rowIndex="3">
                                <children>
                                    <Label text="Reorder Level"/>
                                    <TextField fx:id="reorderField" promptText="e.g. 20"/>
                                </children>
                            </VBox>

                            <!-- Row 4: Actions -->
                            <HBox spacing="8" alignment="CENTER_RIGHT" GridPane.columnSpan="2" GridPane.rowIndex="4">
                                <children>
                                    <Button text="Reset" onAction="#onReset" styleClass="ghost-button"/>
                                    <Button text="Save Item" onAction="#onSave" defaultButton="true"/>
                                </children>
                            </HBox>
                        </GridPane>

                        <Label fx:id="formStatus" text="" style="-fx-text-fill: -color-text-muted;"/>
                    </children>
                </VBox>

                <!-- Table Card -->
                <VBox spacing="12" styleClass="card" HBox.hgrow="ALWAYS">
                    <children>
                        <Label text="Items" styleClass="section-title"/>
                        <TableView fx:id="table" prefHeight="520" VBox.vgrow="ALWAYS">
                            <columns>
                                <TableColumn fx:id="colId" text="ID" prefWidth="60"/>
                                <TableColumn fx:id="colName" text="Name" prefWidth="220"/>
                                <TableColumn fx:id="colCategory" text="Category" prefWidth="140"/>
                                <TableColumn fx:id="colBatch" text="Batch" prefWidth="120"/>
                                <TableColumn fx:id="colQty" text="Qty" prefWidth="80"/>
                                <TableColumn fx:id="colPrice" text="Unit Price" prefWidth="100"/>
                                <TableColumn fx:id="colExpiry" text="Expiry" prefWidth="120"/>
                                <TableColumn fx:id="colSupplier" text="Supplier" prefWidth="160"/>
                                <TableColumn fx:id="colReorder" text="Reorder" prefWidth="90"/>
                            </columns>
                        </TableView>

                        <HBox spacing="8" alignment="CENTER_RIGHT">
                            <children>
                                <Button text="Delete" onAction="#onDelete" styleClass="ghost-button"/>
                                <Button text="Edit" onAction="#onEdit" />
                                <Region HBox.hgrow="ALWAYS"/>
                                <Label text="Total items:" style="-fx-text-fill: -color-text-muted;"/>
                                <Label fx:id="totalItems" text="0" styleClass="badge"/>
                            </children>
                        </HBox>
                    </children>
                </VBox>
            </children>
        </HBox>
    </center>

    <padding>
        <Insets top="0" right="0" bottom="8" left="0"/>
    </padding>
</BorderPane>
